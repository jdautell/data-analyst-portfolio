Bellabeat Data Analysis Case Study
================

### Introduction

Bellabeat, founded by Urška Sršen and Sando Mur, is a high-tech company
that produces health-focused smart products for women. The aim of this
case study is to analyze smart device data to uncover insights into
consumer habits, which will inform Bellabeat’s marketing strategy and
potentially unlock new growth opportunities.

# Ask

### Problem Statement

The primary objective is to analyze consumer usage data of non-Bellabeat
smart devices, focusing on identifying trends and applying these
insights to one of Bellabeat’s products. The analysis will guide the
marketing strategy by answering the following questions:

- What are the trends in smart device usage?
- How could these trends apply to Bellabeat customers?
- How could these trends help influence Bellabeat marketing strategy?

### Stakeholders

Primary stakeholders:

- Urška Sršen: Bellabeat’s cofounder and Chief Creative Officer
- Sando Mur: Mathematician and Bellabeat’s cofounder

Secondary Stakeholders:

- Bellabeat marketing analytics team

# Prepare

#### Data Source and Location

Our foundational dataset is the FitBit Fitness Tracker Data, available
on [Kaggle](https://www.kaggle.com/datasets/arashnic/fitbit). This
dataset, generated by 30 Fitbit users, spans from 03.12.2016 to
05.12.2016, offering insights into daily activities, physical activity,
heart rate, and sleep patterns.

#### Acknowledgement and Licensing

The dataset, created by Furberg, Robert; Brinton, Julia; Keating,
Michael; and Ortiz, Alexa, is documented on
[Zenodo](https://zenodo.org/record/53894#.YMoUpnVKiP9) and licensed
under CC0: Public Domain.

#### Data Organization and Integrity

Organized in 18 CSV files, each focusing on different aspects of user
activity, the dataset has been scrutinized for errors and
inconsistencies to ensure its integrity and reliability.

# Process

### Tools and Data Cleaning

R is chosen as the primary tool for its extensive libraries and
capabilities in handling, analyzing, and visualizing data. The data
cleaning process involves formatting timestamps, merging data frames,
and handling missing or erroneous data to ensure integrity.

### R Code for Data Loading

``` r
# Load necessary libraries
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.2     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(lubridate)

# Define the common path prefix
path_prefix <- "C:/Users/jorda/OneDrive/Documents/Coursera/Capstone/Fitabase Data 4.12.16-5.12.16/"

# Check if files exist before loading
files <- c("dailyActivity_merged.csv", "hourlyCalories_merged.csv", 
           "hourlyIntensities_merged.csv", "sleepDay_merged.csv", 
           "weightLogInfo_merged.csv")
for (file in files) {
  if (!file.exists(paste0(path_prefix, file))) {
    stop(paste0("File not found: ", path_prefix, file))
  }
}

# Load the data
activity <- read.csv(paste0(path_prefix, "dailyActivity_merged.csv"))
calories <- read.csv(paste0(path_prefix, "hourlyCalories_merged.csv"))
intensities <- read.csv(paste0(path_prefix, "hourlyIntensities_merged.csv"))
sleep <- read.csv(paste0(path_prefix, "sleepDay_merged.csv"))
weight <- read.csv(paste0(path_prefix, "weightLogInfo_merged.csv"))
```

### Data Cleaning and Formatting

``` r
# Format timestamp columns
format_timestamp <- function(data, timestamp_col) {
  data[[timestamp_col]] <- as.POSIXct(data[[timestamp_col]], format="%m/%d/%Y %I:%M:%S %p", tz="UTC")
  data$date <- format(data[[timestamp_col]], format="%Y-%m-%d")
  data$time <- format(data[[timestamp_col]], format="%H:%M:%S")
  return(data)
}

# Apply the formatting function to relevant columns
intensities <- format_timestamp(intensities, "ActivityHour")
calories <- format_timestamp(calories, "ActivityHour")
activity$date <- as.Date(activity$ActivityDate, format="%m/%d/%Y")
sleep <- format_timestamp(sleep, "SleepDay")

# Merge the data frames using 'Id' and 'date' columns
merged_data <- merge(activity, sleep, by=c('Id', 'date'))
```

# Analyze

### Exploratory Data Analysis (EDA)

The analysis involves calculating summary statistics, performing
correlation tests, and exploring relationships between different
variables to identify patterns and trends in smart device usage.

``` r
# Calculate summary statistics for various variables
variables <- c("TotalSteps", "Calories", "TotalMinutesAsleep", "TotalTimeInBed")
for (var in variables) {
  print(paste0("Summary Statistics for ", var, ":"))
  print(summary(merged_data[[var]]))
}
```

    ## [1] "Summary Statistics for TotalSteps:"
    ##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    ##      17    5206    8925    8541   11393   22770 
    ## [1] "Summary Statistics for Calories:"
    ##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    ##     257    1850    2220    2398    2926    4900 
    ## [1] "Summary Statistics for TotalMinutesAsleep:"
    ##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    ##    58.0   361.0   433.0   419.5   490.0   796.0 
    ## [1] "Summary Statistics for TotalTimeInBed:"
    ##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    ##    61.0   403.0   463.0   458.6   526.0   961.0

``` r
# Perform a correlation test between Total Steps and Calories Burned
cor_test <- cor.test(activity$TotalSteps, activity$Calories)
print("Correlation Test between Total Steps and Calories Burned:")
```

    ## [1] "Correlation Test between Total Steps and Calories Burned:"

``` r
print(cor_test)
```

    ## 
    ##  Pearson's product-moment correlation
    ## 
    ## data:  activity$TotalSteps and activity$Calories
    ## t = 22.472, df = 938, p-value < 2.2e-16
    ## alternative hypothesis: true correlation is not equal to 0
    ## 95 percent confidence interval:
    ##  0.5483688 0.6316184
    ## sample estimates:
    ##       cor 
    ## 0.5915681

### Interpretation of Results

- There is a significant positive correlation between Total Steps and
  Calories Burned (correlation coefficient: 0.59, p-value \< 2.2e-16).
  This implies that as the number of steps increases, the number of
  calories burned also increases.
- Summary statistics for variables like TotalSteps, Calories, and
  TotalMinutesAsleep show varying ranges, indicating diversity in user
  behavior.

# Share

### Visualization

``` r
# Total Steps vs. Calories Burned with Hexbin Plot and Regression Line
ggplot(data=activity, aes(x=TotalSteps, y=Calories)) + 
  geom_hex(bins=50, color="white") + 
  geom_smooth(method="lm", se=FALSE, color="red") +
  labs(title="Total Steps vs. Calories Burned", x="Total Steps", y="Calories Burned") +
  theme_minimal()
```

    ## `geom_smooth()` using formula = 'y ~ x'

![](bellabeat_case_study_files/figure-gfm/unnamed-chunk-4-1.png)<!-- -->

![](bellabeat_case_study/unnamed-chunk-4-1.png)<!-- -->

![image](https://github.com/jdautell/data-analyst-portfolio/assets/132599194/632f30c0-c44f-4f6d-bdca-3cc399844e1a)


``` r
# Sleep Duration vs. Total Steps (Activity Level) with Jitter and Regression Line
ggplot(data=merged_data, aes(x=TotalMinutesAsleep, y=TotalSteps)) + 
  geom_jitter(shape=1, color="darkblue", width=0.3, height=0.3) +
  geom_smooth(method="lm", se=FALSE, color="red") +
  labs(title="Sleep Duration vs. Total Steps", x="Total Minutes Asleep", y="Total Steps (Activity Level)") +
  theme_minimal()
```

    ## `geom_smooth()` using formula = 'y ~ x'

![](bellabeat_case_study_files/figure-gfm/unnamed-chunk-4-2.png)<!-- -->

``` r
# Define Activity Level based on Total Steps
merged_data$ActivityLevel <- cut(merged_data$TotalSteps, 
                                 breaks = c(-Inf, 5000, 10000, Inf), 
                                 labels = c("Low", "Medium", "High"))

# Sleep Duration vs. Activity Level with Box Plot
ggplot(data=merged_data, aes(x=ActivityLevel, y=TotalMinutesAsleep, fill=ActivityLevel)) + 
  geom_boxplot() +
  labs(title="Sleep Duration vs. Activity Level", x="Activity Level", y="Total Minutes Asleep") +
  theme_minimal() +
  scale_fill_manual(values=c("Low" = "lightblue", "Medium" = "lightgreen", "High" = "lightcoral"))
```

![](bellabeat_case_study_files/figure-gfm/unnamed-chunk-4-3.png)<!-- -->

``` r
# Average Intensity Levels vs. Time with Line Plot and Shading
intensity_avg <- intensities %>%
  group_by(time) %>%
  summarise(avg_intensity = mean(TotalIntensity), se = sd(TotalIntensity) / sqrt(n()))

# Convert 'time' to factor while keeping only the hour part for plotting
intensity_avg$time <- factor(format(strptime(intensity_avg$time, format="%H:%M:%S"), "%H"), levels = sprintf("%02d", 0:23))

# Create the line plot
ggplot(data=intensity_avg, aes(x=time, y=avg_intensity)) + 
  geom_line(group=1, color='darkblue') +
  geom_ribbon(aes(ymin=avg_intensity-se, ymax=avg_intensity+se), alpha=0.2) +
  scale_x_discrete(breaks=sprintf("%02d", 0:23)) +
  theme(axis.text.x = element_text(angle=45, vjust=0.5, hjust=1)) +
  labs(title="Average Intensity Levels vs. Time", x="Time (Hour)", y="Average Intensity") +
  theme_minimal()
```

![](bellabeat_case_study_files/figure-gfm/unnamed-chunk-4-4.png)<!-- -->
\### Interpretation of Visualizations

- The Hexbin Plot shows a clear positive linear relationship between
  Total Steps and Calories Burned.
- The scatter plot comparing Sleep Duration vs. Total Steps shows a
  trend where individuals with higher sleep durations tend to have lower
  total steps.
- The Box plot reveals variations in sleep duration across different
  activity levels, suggesting that individuals with higher activity
  levels tend to have shorter sleep durations.
- The line plot comparing Average Intensity Levels vs. Time shows that
  intensity peaks during morning and evening, suggesting popular times
  for workouts.

# Act

### Conclusions and Recommendations

- **Targeted Marketing Campaigns**: Develop marketing campaigns
  targeting users with varying activity levels and sleep patterns,
  emphasizing how Bellabeat products can help achieve a balance between
  activity and rest.

- **Personalized Health Goals**: Introduce features in Bellabeat app to
  set personalized daily step goals and sleep targets, encouraging users
  to maintain an active lifestyle while ensuring adequate rest.

- **Sleep and Activity Insights**: Enhance the Bellabeat app with
  insights on the correlation between sleep duration and physical
  activity, educating users on the importance of balancing both for
  overall well-being.

- **Peak Activity Notifications**: Send notifications during peak
  activity times to encourage workouts.

- **Wellness Challenges and Rewards**: Launch wellness challenges
  focusing on achieving step goals and maintaining healthy sleep
  patterns, with rewards to keep users engaged and motivated.

- **Educational Content**: Provide educational content and tips within
  the app on the benefits of regular physical activity and good sleep
  hygiene, helping users make informed lifestyle choices.

- **User Segmentation for Communication**: Utilize data on user behavior
  to segment users based on their activity levels and sleep durations
  for targeted communication and personalized recommendations.

A larger sample size is needed for a more accurate analysis. These
recommendations aim to leverage the insights gained from the data
analysis to enhance user engagement, promote healthy lifestyles, and
drive growth for Bellabeat.
